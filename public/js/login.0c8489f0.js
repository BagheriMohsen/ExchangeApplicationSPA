(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"159b4":function(e,t,r){},2762:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("test")])},o=[],i=r("782e"),s=r.n(i),a={name:"App",data:function(){return{audio:new Audio("https://freesound.org/data/previews/66/66136_606715-lq.mp3")}},methods:{farxSubscribe:function(){var e=this,t=new s.a("0b6db206a7be0ce7e956",{cluster:"ap2"});t.subscribe("ForexNotif"),t.bind("App\\Events\\ForexNotifEvent",(function(){return e.audio.play()}))},binarySubscribe:function(){var e=this,t=new s.a("0b6db206a7be0ce7e956",{cluster:"ap2"});t.subscribe("BinaryNotif"),t.bind("App\\Events\\BinaryNotif",(function(){return e.audio.play()}))}},created:function(){this.farxSubscribe(),this.binarySubscribe()},updated:function(){},mounted:function(){}},c=a,l=r("2877"),u=Object(l["a"])(c,n,o,!1,null,null,null);t["default"]=u.exports},"45a6":function(e,t,r){},"48d0":function(e,t,r){"use strict";var n=r("a8f9"),o=r.n(n);o.a},"511f":function(e,t,r){},"53e4":function(e,t,r){"use strict";var n=r("159b4"),o=r.n(n);o.a},a8f9:function(e,t,r){},b00e:function(e,t,r){"use strict";var n=r("511f"),o=r.n(n);o.a},d60c:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("v-container",[r("v-row",{attrs:{dark:"",justify:"center"}},[r("v-col",{class:"text-center",attrs:{cols:"12"}},[r("v-btn",{staticStyle:{"min-width":"57px"},attrs:{outlined:"",color:"white"},on:{click:function(t){e.currentComponent="persian-login"}}},[e._v(" فارسی ")]),r("v-btn",{staticStyle:{"min-width":"57px"},attrs:{outlined:"",color:"white"},on:{click:function(t){e.currentComponent="english-login"}}},[e._v(" English ")]),r("v-btn",{staticStyle:{"min-width":"57px"},attrs:{outlined:"",color:"white"},on:{click:function(t){e.currentComponent="arabic-login"}}},[e._v(" عربی ")])],1)],1),r(e.currentComponent,{tag:"component"})],1)],1)},o=[],i=r("da7a"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{dark:"",justify:"center"}},[r("v-col",{class:"text-center",attrs:{cols:"12"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{dark:"",rules:e.phoneRules,counter:11,label:"شماره همراه",required:""},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}),r("v-btn",{staticClass:"mt-3",attrs:{dark:"",disabled:!e.valid,color:"info"},on:{click:function(t){return t.preventDefault(),e.receiveCode(t)}}},[e.loading?e._e():r("span",[e._v("ورود")]),e.loading?r("clip-loader",{attrs:{color:"white",size:"26px"}}):e._e()],1),e.error.info?r("div",{staticClass:"error mt-3 py-1 white--text",staticStyle:{"font-size":".8rem"}},[e._v(e._s(e.error.info))]):e._e()],1)],1),r("v-col",{class:"text-center",attrs:{cols:"12"}},[e.code.sended?r("v-form",[r("v-text-field",{attrs:{dark:"",label:"کد ارسالی را وارد نمایید",counter:4,required:""},model:{value:e.code.userInput,callback:function(t){e.$set(e.code,"userInput",t)},expression:"code.userInput"}}),r("v-btn",{staticClass:"mt-3",attrs:{dark:"",color:"info"},on:{click:function(t){return t.preventDefault(),e.verifyCode(t)}}},[e._v(" ارسال کد ")]),e.error.code?r("div",{staticClass:"error mt-3 py-1 white--text",staticStyle:{"font-size":".8rem"}},[e._v(e._s(e.error.code))]):e._e()],1):e._e()],1),r("v-col",{class:"text-center",attrs:{cols:"12"}},[r("router-link",{attrs:{color:"white",to:"/register"}},[r("span",{staticClass:"white--text"},[e._v(" هنوز ثبت نام نکرده اید؟ لطفا اینجا کلیک کنید")])])],1)],1)},a=[],c={components:{ClipLoader:i["a"]},data:function(){return{loading:!1,valid:!0,user:{id:"",phone:""},code:{userInput:"",sms:"",sended:!1},error:{info:"",code:""},lang:"fa",phoneRules:[function(e){return!!e||"شماره همراه الزامی است"},function(e){return/^[0-9]*$/.test(e)||"شماره همراه معتبر نیست"},function(e){return e&&11==e.length||"شماره همراه بایستی 11 رقمی باشد"}]}},methods:{receiveCode:function(){var e=this;this.$refs.form.validate()&&(this.error.info="",this.loading=!0,this.$http.post("login",{phoneNumber:this.user.phone,role_id:"2"}).then((function(t){t.data.DigitValidate?(e.code.sended=!0,e.user.id=t.data.user_id,e.code.sms=t.data.DigitValidate):e.error.info=t.data,e.loading=!1})).catch((function(t){console.error(t),e.loading=!1})))},verifyCode:function(){var e=this;this.code.userInput==this.code.sms?this.$http.get("sendVerfySms",{params:{user_id:this.user.id}}).then((function(t){localStorage.setItem("token",t.data.token),e.$router.push("/")})).catch((function(e){return console.log(e)})):this.error.code="رمز وارد شده اشتباه می باشد"}}},l=c,u=(r("48d0"),r("2877")),d=r("6544"),f=r.n(d),v=r("8336"),h=r("62ad"),p=r("4bd4"),m=r("0fd9"),b=r("8654"),g=Object(u["a"])(l,s,a,!1,null,"142c7460",null),_=g.exports;f()(g,{VBtn:v["a"],VCol:h["a"],VForm:p["a"],VRow:m["a"],VTextField:b["a"]});var x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{dark:"",justify:"center"}},[r("v-col",{class:"text-center",attrs:{cols:"12"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{dark:"",rules:e.phoneRules,counter:11,label:"Phone number",required:""},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}),r("v-btn",{staticClass:"mt-3",attrs:{dark:"",disabled:!e.valid,color:"info"},on:{click:function(t){return t.preventDefault(),e.receiveCode(t)}}},[e.loading?e._e():r("span",[e._v("Login")]),e.loading?r("clip-loader",{attrs:{color:"white",size:"26px"}}):e._e()],1),e.error.info?r("div",{staticClass:"error mt-3 py-1 white--text",staticStyle:{"font-size":".8rem"}},[e._v(e._s(e.error.info))]):e._e()],1)],1),r("v-col",{class:"text-center",attrs:{cols:"12"}},[e.code.sended?r("v-form",[r("v-text-field",{attrs:{dark:"",label:"Please insert the code",counter:4,required:""},model:{value:e.code.userInput,callback:function(t){e.$set(e.code,"userInput",t)},expression:"code.userInput"}}),r("v-btn",{staticClass:"mt-3",attrs:{dark:"",color:"info"},on:{click:function(t){return t.preventDefault(),e.verifyCode(t)}}},[e._v(" Send code ")]),e.error.code?r("div",{staticClass:"error mt-3 py-1 white--text",staticStyle:{"font-size":".8rem"}},[e._v(e._s(e.error.code))]):e._e()],1):e._e()],1),r("v-col",{class:"text-center",attrs:{cols:"12"}},[r("router-link",{attrs:{color:"white",to:"/register"}},[r("span",{staticClass:"white--text"},[e._v(" If you registerd before please click here")])])],1)],1)},k=[],C={components:{ClipLoader:i["a"]},data:function(){return{loading:!1,valid:!0,user:{id:"",phone:""},code:{userInput:"",sms:"",sended:!1},error:{info:"",code:""},lang:"fa",phoneRules:[function(e){return!!e||"Phone number is required"},function(e){return/^[0-9]*$/.test(e)||"Phone number is not valid"},function(e){return e&&11==e.length||"Phone number should have 11 digits"}]}},methods:{receiveCode:function(){var e=this;this.$refs.form.validate()&&(this.error.info="",this.loading=!0,this.$http.post("login",{phoneNumber:this.user.phone,role_id:"2"}).then((function(t){t.data.DigitValidate?(e.code.sended=!0,e.user.id=t.data.user_id,e.code.sms=t.data.DigitValidate):e.error.info=t.data,e.loading=!1})).catch((function(t){console.error(t),e.loading=!1})))},verifyCode:function(){var e=this;this.code.userInput==this.code.sms?this.$http.get("sendVerfySms",{params:{user_id:this.user.id}}).then((function(t){console.log(t),localStorage.setItem("token",t.data.token),e.$router.push("/")})).catch((function(e){return console.log(e)})):this.error.code="Inserted code is not valid"}}},w=C,y=(r("b00e"),Object(u["a"])(w,x,k,!1,null,"362d383d",null)),V=y.exports;f()(y,{VBtn:v["a"],VCol:h["a"],VForm:p["a"],VRow:m["a"],VTextField:b["a"]});var $=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{dark:"",justify:"center"}},[r("v-col",{class:"text-center",attrs:{cols:"12"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{dark:"",rules:e.phoneRules,counter:11,label:" رقم الهاتف",required:""},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}),r("v-btn",{staticClass:"mt-3",attrs:{dark:"",disabled:!e.valid,color:"info"},on:{click:function(t){return t.preventDefault(),e.receiveCode(t)}}},[e.loading?e._e():r("span",[e._v("تسجيل الدخول")]),e.loading?r("clip-loader",{attrs:{color:"white",size:"26px"}}):e._e()],1),e.error.info?r("div",{staticClass:"error mt-3 py-1 white--text",staticStyle:{"font-size":".8rem"}},[e._v(e._s(e.error.info))]):e._e()],1)],1),r("v-col",{class:"text-center",attrs:{cols:"12"}},[e.code.sended?r("v-form",[r("v-text-field",{attrs:{dark:"",label:"أدخل رمز الإرسال",counter:4,required:""},model:{value:e.code.userInput,callback:function(t){e.$set(e.code,"userInput",t)},expression:"code.userInput"}}),r("v-btn",{staticClass:"mt-3",attrs:{dark:"",color:"info"},on:{click:function(t){return t.preventDefault(),e.verifyCode(t)}}},[e._v(" ارسال الکد ")]),e.error.code?r("div",{staticClass:"error mt-3 py-1 white--text",staticStyle:{"font-size":".8rem"}},[e._v(e._s(e.error.code))]):e._e()],1):e._e()],1),r("v-col",{class:"text-center",attrs:{cols:"12"}},[r("router-link",{attrs:{color:"white",to:"/register"}},[r("span",{staticClass:"white--text"},[e._v(" غير مسجل حتى الآن؟ الرجاء الضغط هنا")])])],1)],1)},I=[],S={components:{ClipLoader:i["a"]},data:function(){return{loading:!1,valid:!0,user:{id:"",phone:""},code:{userInput:"",sms:"",sended:!1},error:{info:"",code:""},lang:"fa",phoneRules:[function(e){return!!e||"رقم الخلية مطلوب"},function(e){return/^[0-9]*$/.test(e)||"رقم الهاتف غير صالح"},function(e){return e&&11==e.length||"يجب أن يكون رقم الخلية 11 رقما"}]}},methods:{receiveCode:function(){var e=this;this.$refs.form.validate()&&(this.error.info="",this.loading=!0,this.$http.post("login",{phoneNumber:this.user.phone,role_id:"2"}).then((function(t){t.data.DigitValidate?(e.code.sended=!0,e.user.id=t.data.user_id,e.code.sms=t.data.DigitValidate):e.error.info=t.data,e.loading=!1})).catch((function(t){console.error(t),e.loading=!1})))},verifyCode:function(){var e=this;this.code.userInput==this.code.sms?this.$http.get("sendVerfySms",{params:{user_id:this.user.id}}).then((function(t){console.log(t),localStorage.setItem("token",t.data.token),e.$router.push("/")})).catch((function(e){return console.log(e)})):this.error.code="كلمة المرور التي أدخلتها غير صحيحة"}}},z=S,D=(r("53e4"),Object(u["a"])(z,$,I,!1,null,"0b25bbfe",null)),R=D.exports;f()(D,{VBtn:v["a"],VCol:h["a"],VForm:p["a"],VRow:m["a"],VTextField:b["a"]});var j={components:{ClipLoader:i["a"],"persian-login":_,"arabic-login":R,"english-login":V},data:function(){return{currentComponent:"persian-login"}},methods:{checkToken:function(){localStorage.getItem("token")&&this.$router.push("/")}},created:function(){},mounted:function(){this.checkToken()}},E=j,q=(r("fa2f"),r("a523")),F=Object(u["a"])(E,n,o,!1,null,"a5eb42b2",null);t["default"]=F.exports;f()(F,{VBtn:v["a"],VCol:h["a"],VContainer:q["a"],VRow:m["a"]})},fa2f:function(e,t,r){"use strict";var n=r("45a6"),o=r.n(n);o.a}}]);
//# sourceMappingURL=login.0c8489f0.js.map